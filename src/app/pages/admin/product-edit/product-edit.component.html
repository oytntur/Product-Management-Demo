<div class="container py-3">
  <div class="card mb-3">
    <div class="card-header bg-primary text-white">Product</div>
    <div class="card-body">
      <dx-form
        [(formData)]="formData"
        [colCount]="2"
        labelLocation="top"
        (onFieldDataChanged)="onDxFieldChange($event)"
      >
        <dxi-item dataField="name" editorType="dxTextBox" [isRequired]="true"></dxi-item>
        <dxi-item dataField="unit" editorType="dxTextBox" [isRequired]="true"></dxi-item>
        <dxi-item dataField="unitPrice" editorType="dxNumberBox"></dxi-item>
        <dxi-item dataField="unitsInStock" editorType="dxNumberBox"></dxi-item>
        <dxi-item
          dataField="discontinued"
          editorType="dxCheckBox"
          [editorOptions]="{ text: 'Discontinued' }"
        ></dxi-item>
      </dx-form>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-header d-flex justify-content-between">
      <span>Orders</span>
    </div>
    <div class="card-body">
      <dx-data-grid
        [dataSource]="ordersData"
        [showBorders]="true"
        [editing]="{ mode: 'row', allowAdding: true, allowUpdating: true, allowDeleting: true }"
        (onRowInserted)="onOrderInserted($event)"
        (onRowUpdated)="onOrderUpdated($event)"
        (onRowRemoved)="onOrderRemoved($event)"
      >
        <dxi-column dataField="customerName">
          <dxi-validation-rule type="required"></dxi-validation-rule>
        </dxi-column>
        <dxi-column dataField="orderDate" dataType="date">
          <dxi-validation-rule type="required"></dxi-validation-rule>
        </dxi-column>
        <dxi-column dataField="expectedDeliveryDate" dataType="date">
          <dxi-validation-rule type="required"></dxi-validation-rule>
        </dxi-column>
        <dxi-column dataField="amount" dataType="number">
          <dxi-validation-rule type="required"></dxi-validation-rule>
        </dxi-column>
      </dx-data-grid>
    </div>
  </div>

  <div class="text-end">
    <button class="btn btn-primary" (click)="onSubmit()" [disabled]="form.invalid">
      Save Product
    </button>
  </div>
</div>
